<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 箭头函数
        /* 
            目的：
                更简洁的函数写法，并且不绑定 this，箭头函数的语法比函数表达式更简洁
            使用场景：
                箭头函数更适用于那些本来需要 匿名函数 的地方
        */
        // 基本语法
        const fn = () => {
            console.log(123)
        }
        fn()
        const fn2 = (x) => {
            console.log(x)
        }
        fn2(14)
        // 只有一个参数，可以省略小括号
        const fn3 = x => {
            console.log(x)
        }
        fn3(41)
        // 只有一行代码时，可以省略大括号
        const fn4 = x => console.log(x)
        fn4(77)
        // 只有一行代码时，可以省略 return
        const fn5 = x => x + x
        console.log(fn5(22))
        // 箭头函数可以直接返回一个对象
        // 加括号的函数体返回对象字面量表达式
        const fn6 = (uname) => ({uname: uname})
        console.log(fn6('刘'))

        // 箭头函数的参数
        /* 
            没有arguments，但可以使用 剩余参数 ...
        */
       const getSum3 = (...arr) => {
            let sum = 0
            for(let i = 0; i < arr.length; i++) {
                sum += arr[i]
            }
            return sum
       }
       const result = getSum3(4,7,3,2,4)
       console.log(result)

        // 箭头函数的 this
       /* 
            箭头函数不会创建自己的 this，只会从自己的作用域链上一层的沿用 this
       */
      const fn7 = () => {
        console.log(this)  // window
        // 上一层为 window
      }
      fn7()

        // 对象、方法里的箭头函数 this
        const obj2 = {
            uname: 'ping',
            sayHi: () => {
                console.log(this)
            }
        }  
        // window.obj    指向 window
        obj2.sayHi()
        const obj3 = {
            sayHi: function() {
                let i = 10
                const count = () => {
                    console.log(this);
                }
                count()
            }
        }
        obj3.sayHi()
        // DOM事件回调函数是为了简便 ，如果想要使用 this，还是不太推荐使用箭头函数
    </script>
</body>
</html>